include ../Makefile.mk

MODULE := $(MODULE)/Runtimes

RTS_TYPE := sfp

$(info *******************************************************************************)
$(info MODULE: ${MODULE})
$(info *******************************************************************************)
$(info $$PROJECT_ROOT_DIR is [${PROJECT_ROOT_DIR}])
$(info $$BUILD_TYPE       is [${BUILD_TYPE}])
$(info $$TARGET           is [${TARGET}])
$(info $$PLATFORM         is [${PLATFORM}])
$(info $$RTS_TYPE         is [${RTS_TYPE}])
$(info *******************************************************************************)

# --------------------------------------------------------------------------- #
# All reachable targets
# --------------------------------------------------------------------------- #
.PHONY : clean build

# --------------------------------------------------------------------------- #
# TARGET: clean
# --------------------------------------------------------------------------- #
clean:
	$(info *******************************************************************************)
	$(info [${MODULE}] Clean)
	$(info *******************************************************************************)
	if test -f bsp-crazyflie/Makefile; then $(MAKE) -C bsp-crazyflie $(@F); fi

# --------------------------------------------------------------------------- #
# TARGET: build
# --------------------------------------------------------------------------- #
build:
	$(info *******************************************************************************)
	$(info [${MODULE}] Build)
	$(info *******************************************************************************)
ifeq ($(TARGET),arm-eabi)
ifeq ($(PLATFORM),crazyflie)
	if test -f bsp-crazyflie/Makefile; then $(MAKE) -C bsp-crazyflie ravenscar-$(RTS_TYPE)-stm32; fi
endif
endif
